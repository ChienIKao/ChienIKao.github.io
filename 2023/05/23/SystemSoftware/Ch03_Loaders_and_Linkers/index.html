<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Nothing is true, everything is permitted" href="https://chienikao.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Nothing is true, everything is permitted" href="https://chienikao.github.io/atom.xml"><link rel="alternate" type="application/json" title="Nothing is true, everything is permitted" href="https://chienikao.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="System Software,Assembler"><link rel="canonical" href="https://chienikao.github.io/2023/05/23/SystemSoftware/Ch03_Loaders_and_Linkers/"><title>Ch03 - Loaders and Linkers - SystemSoftware | ChienI Kao = Nothing is true, everything is permitted</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Ch03 - Loaders and Linkers</h1><div class="meta"><span class="item" title="Created: 2023-05-23 14:33:10"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2023-05-23T14:33:10+08:00">2023-05-23</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>5.4k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>5 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ChienI Kao</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://21r000-image.oss-cn-shanghai.aliyuncs.com/pic2021/6833939bly1gipeybxm1pj20zk0m8niv.jpg"></li><li class="item" data-background-image="https://21r000-image.oss-cn-shanghai.aliyuncs.com/pic2021/6833939bly1giclil3m4ej20zk0m8tn8.jpg"></li><li class="item" data-background-image="https://21r000-image.oss-cn-shanghai.aliyuncs.com/pic2021/6833939bly1gipexoj0moj20zk0m8kgu.jpg"></li><li class="item" data-background-image="https://21r000-image.oss-cn-shanghai.aliyuncs.com/pic2021/6833939bly1gipexw3o58j20zk0m8e81.jpg"></li><li class="item" data-background-image="https://21r000-image.oss-cn-shanghai.aliyuncs.com/pic2021/6833939bly1giclip4jbpj20zk0m87cv.jpg"></li><li class="item" data-background-image="https://21r000-image.oss-cn-shanghai.aliyuncs.com/pic2021/6833939bly1giclfb3vzhj20zk0m8wny.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/SystemSoftware/" itemprop="item" rel="index" title="In SystemSoftware"><span itemprop="name">SystemSoftware</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="https://chienikao.github.io/2023/05/23/SystemSoftware/Ch03_Loaders_and_Linkers/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="ChienI Kao"><meta itemprop="description" content=", This is a note blog"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Nothing is true, everything is permitted"></span><div class="body md" itemprop="articleBody"><h2 id="introduction"><a class="anchor" href="#introduction">#</a> Introduction</h2><ul><li>A loader is a system program that performs the <span class="red">loading</span> function. Many loaders also support <span class="red">relocation</span> and <span class="red">linking</span>.</li><li>Some systems have a <span class="red">linker</span> to perform the linking operations and a separate loader to handle relocation and loading.</li><li>In most cases all the program translators (ex. assemblers and compilers) on a particular system produce object programs in the same format. Thus one system loader or linker can be used regardless of the original source programming language.</li></ul><h2 id="basic-loader-functions"><a class="anchor" href="#basic-loader-functions">#</a> Basic Loader Functions</h2><h3 id="design-of-an-absolute-loader"><a class="anchor" href="#design-of-an-absolute-loader">#</a> Design of an Absolute Loader</h3><ul><li><p>An absolute loader does not need to perform such functions as linking and program relocation, its operation is very simple. <strong>All functions are accomplished in a single pass</strong>.</p></li><li><p>When the <code>End</code> record is encountered, the loader jumps to the specified address to begin execution of the loaded program.</p></li><li><p><span class="yellow">從多少開始</span></p></li><li><p><span class="green">每行的 T 的起點都要確認，不是每行都直接接下去，有變數的地方會跳</span></p></li><li><p><span class="red">中間的 xx xxxxx…xxxx 是變數 (包含 array)，沒有常數 (常數是有值的)</span></p></li><li><p><img data-src="https://imgur.com/4i8nWYr.png" alt=""></p></li></ul><h3 id="a-simple-bootstrap-loader"><a class="anchor" href="#a-simple-bootstrap-loader">#</a> A simple Bootstrap Loader</h3><ul><li>When a computer is first turned on or restarted, a special type of absolute loader, called a <span class="red">bootstrap loader</span>, is executed.</li><li>The bootstrap loads the first program to be run by the computer — usually an operating system.</li></ul><h2 id="machine-dependent-loader-features"><a class="anchor" href="#machine-dependent-loader-features">#</a> Machine-Dependent Loader Features</h2><ul><li>The absolute loader is certainly simple and efficient; however, this scheme has several potential disadvantage.<ul><li>Writing absolute programs makes it difficult to use subroutine libraries efficiently.</li></ul></li></ul><h3 id="relocation"><a class="anchor" href="#relocation">#</a> Relocation</h3><ul><li><p>Loaders that allow for program relocation are called <span class="red">relocation loaders</span> or <span class="red">relative loaders</span>.</p></li><li><p>There are two methods for specifying relocation as part of the object program.</p><ul><li><strong>Modification record</strong> (suitable for <strong>SIX/XE</strong> programs, only some instructions require relocation).</li><li><strong>Relocation by bit mask</strong> (suitable for direct addressing and fixed instruction format, such as <strong>SIC</strong> programs; nearly all instructions require relocation, resulting in an object program more than twice as large as the original one.)</li></ul></li><li><p>Relocation by bit mask</p><ul><li>There is a <span class="red">relocation bit</span> (1 for relocation) associated with each word of object code (each SIC instruction).</li><li>The relocation bis are gathered together into a <span class="red">bit mask</span> following the length indicator in each Text record.</li><li><img data-src="https://imgur.com/vMgkPka.png" alt=""></li></ul></li></ul><h3 id="program-linking"><a class="anchor" href="#program-linking">#</a> Program Linking</h3><ul><li>Relationship between the relocation and linking process.</li><li>The general approach taken is for the assembler to evaluate as much of the expression as it can. The remaining terms are passed on to the loader via Modificaion records.<br><img data-src="https://imgur.com/WYixbEw.png" alt=""><br><img data-src="https://imgur.com/juLxmFP.png" alt=""></li></ul><h3 id="algorithm-and-data-structure-for-a-linking-loader"><a class="anchor" href="#algorithm-and-data-structure-for-a-linking-loader">#</a> Algorithm and Data Structure for a Linking Loader</h3><ul><li>The input to a linking loader consists of a set of object programs (ex. control sections) that are to be linked together.</li><li>It is possible (and common) for a control section to make an external reference to a symbol whose definition does not appear until later ini this input stream.</li><li>Thus a linking loader usually makes <span class="red">two passes</span> over its input.<ul><li>Pass 1 assigns addresses to all external symbols.</li><li>Pass 2 performs the actual loading, relocation, and linking.</li></ul></li><li>The main data structure needed for our linking loader is an <span class="red">external symbol table ESTAB</span>.</li><li>Two other important variables are <span class="red">PROGADDR</span>(program load address) and <span class="red">CSADDR</span>(control section address).<ul><li>The value of PROGADDR is supplied to the loader by the operating system.</li></ul></li></ul><p><strong>Algorithm for Pass 1</strong><br>Concerned only with Header and Define record types in the control sections.</p><figure class="highlight vhdl"><figcaption data-lang="VHDL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">begin</span> 	 </pre></td></tr><tr><td data-num="2"></td><td><pre>get PROGADDR from operating system 	 </pre></td></tr><tr><td data-num="3"></td><td><pre>set CSADDR <span class="token keyword">to</span> PROGADDR <span class="token punctuation">&#123;</span><span class="token keyword">for</span> first control section<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> <span class="token operator">not</span> <span class="token keyword">end</span> <span class="token keyword">of</span> input do 	 </pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">begin</span> 	 </pre></td></tr><tr><td data-num="6"></td><td><pre>    read <span class="token keyword">next</span> input <span class="token keyword">record</span> <span class="token punctuation">&#123;</span>Header <span class="token keyword">record</span> <span class="token keyword">for</span> control section<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="7"></td><td><pre>	set CSLTH <span class="token keyword">to</span> control section length 	 </pre></td></tr><tr><td data-num="8"></td><td><pre>	search ESTAB <span class="token keyword">for</span> control section name 	 </pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">if</span> found <span class="token keyword">then</span> 	 </pre></td></tr><tr><td data-num="10"></td><td><pre>	  set error flag <span class="token punctuation">&#123;</span>duplicate external symbol<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">else</span> 	 </pre></td></tr><tr><td data-num="12"></td><td><pre>	  enter control section name into ESTAB <span class="token keyword">with</span> value CSADDR </pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">while</span> <span class="token keyword">record</span> <span class="token keyword">type</span> !<span class="token operator">=</span> 'E' do 	 </pre></td></tr><tr><td data-num="14"></td><td><pre>	  <span class="token keyword">begin</span> 	 </pre></td></tr><tr><td data-num="15"></td><td><pre>		read <span class="token keyword">next</span> input <span class="token keyword">record</span> 	 </pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">if</span> <span class="token keyword">record</span> <span class="token keyword">type</span> <span class="token operator">=</span> 'D' <span class="token keyword">then</span> 	 </pre></td></tr><tr><td data-num="17"></td><td><pre>		  <span class="token keyword">for</span> each symbol <span class="token keyword">in</span> the <span class="token keyword">record</span> do 	 </pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token keyword">begin</span> 	 </pre></td></tr><tr><td data-num="19"></td><td><pre>			  search ESTAB <span class="token keyword">for</span> symbol name 	 </pre></td></tr><tr><td data-num="20"></td><td><pre>			  <span class="token keyword">if</span> found <span class="token keyword">then</span> 	 </pre></td></tr><tr><td data-num="21"></td><td><pre>				set error flag <span class="token punctuation">(</span>duplicate external symbol<span class="token punctuation">)</span> 	 </pre></td></tr><tr><td data-num="22"></td><td><pre>			  <span class="token keyword">else</span> 	 </pre></td></tr><tr><td data-num="23"></td><td><pre>				enter symbol into ESTAB <span class="token keyword">with</span> value 	 </pre></td></tr><tr><td data-num="24"></td><td><pre>				  <span class="token punctuation">(</span>CSADDR <span class="token operator">+</span> indicated address<span class="token punctuation">)</span> 	 </pre></td></tr><tr><td data-num="25"></td><td><pre>			<span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">&#125;</span> </pre></td></tr><tr><td data-num="26"></td><td><pre>	  <span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">while</span> !<span class="token operator">=</span> 'E'<span class="token punctuation">&#125;</span> 			 </pre></td></tr><tr><td data-num="27"></td><td><pre>    add CSLTH <span class="token keyword">to</span> CSADDR <span class="token punctuation">&#123;</span>starting address <span class="token keyword">for</span> <span class="token keyword">next</span> control section<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">while</span> <span class="token operator">not</span> EOF<span class="token punctuation">&#125;</span> 		 </pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">end</span> <span class="token punctuation">&#123;</span>Pass <span class="token number">1</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>Algorithm for Pass 2</strong></p><ul><li>Perform the actual loading, relocation, and linking of the program.</li><li>The <code>END</code> record for each control section may contain the address of the first instruction in that control section to be executed. The loader takes this as the transfer point to begin execution.<ul><li>If more than one control section specifies a transfer address, the loader arbitrarily uses the last one encountered.</li><li>If no control section contains a transfer address, the loader uses the beginning of the linked program (ex. PROGADDR) as the transfer point.</li><li>Normally, a transfer address would be placed in the <code>END</code> record for a main program, but not for a subroutine.</li></ul></li></ul><figure class="highlight vhdl"><figcaption data-lang="VHDL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">begin</span> 	 </pre></td></tr><tr><td data-num="2"></td><td><pre>set CSADDR <span class="token keyword">to</span> PROGADDR 	 </pre></td></tr><tr><td data-num="3"></td><td><pre>set EXECADDR <span class="token keyword">to</span> PROGADDR 	 </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> <span class="token operator">not</span> <span class="token keyword">end</span> <span class="token keyword">of</span> input do 	 </pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">begin</span> 	 </pre></td></tr><tr><td data-num="6"></td><td><pre>		read <span class="token keyword">next</span> input <span class="token keyword">record</span> <span class="token punctuation">&#123;</span>Header <span class="token keyword">record</span><span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="7"></td><td><pre>		set CSLTH <span class="token keyword">to</span> control section length 	 </pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">while</span> <span class="token keyword">record</span> <span class="token keyword">type</span> !<span class="token operator">=</span> 'E' do 		 </pre></td></tr><tr><td data-num="9"></td><td><pre>			<span class="token keyword">begin</span> 		 </pre></td></tr><tr><td data-num="10"></td><td><pre>			read <span class="token keyword">next</span> input <span class="token keyword">record</span> 	 </pre></td></tr><tr><td data-num="11"></td><td><pre>			<span class="token keyword">if</span> <span class="token keyword">record</span> <span class="token keyword">type</span> <span class="token operator">=</span> 'T' <span class="token keyword">then</span> 		 </pre></td></tr><tr><td data-num="12"></td><td><pre>				<span class="token keyword">begin</span> 		 </pre></td></tr><tr><td data-num="13"></td><td><pre>					<span class="token punctuation">&#123;</span><span class="token keyword">if</span> object code <span class="token keyword">is</span> <span class="token keyword">in</span> character form<span class="token punctuation">,</span> convert 	 </pre></td></tr><tr><td data-num="14"></td><td><pre>						into internal representation<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="15"></td><td><pre>					move object code from <span class="token keyword">record</span> <span class="token keyword">to</span> location 	 </pre></td></tr><tr><td data-num="16"></td><td><pre>						<span class="token punctuation">(</span>CSADDR <span class="token operator">+</span> specified address<span class="token punctuation">)</span> 		 </pre></td></tr><tr><td data-num="17"></td><td><pre>				<span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> 'T'<span class="token punctuation">&#125;</span> 		 </pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">record</span> <span class="token keyword">type</span> <span class="token operator">=</span> 'M' <span class="token keyword">then</span> 	 </pre></td></tr><tr><td data-num="19"></td><td><pre>				<span class="token keyword">begin</span> 		 </pre></td></tr><tr><td data-num="20"></td><td><pre>					search ESTAB <span class="token keyword">for</span> modifying symbol name 	 </pre></td></tr><tr><td data-num="21"></td><td><pre>					<span class="token keyword">if</span> found <span class="token keyword">then</span> 	 </pre></td></tr><tr><td data-num="22"></td><td><pre>						add <span class="token operator">or</span> subtract symbol value at location 	 </pre></td></tr><tr><td data-num="23"></td><td><pre>							<span class="token punctuation">(</span>CSADDR <span class="token operator">+</span> specified address<span class="token punctuation">)</span> 	 </pre></td></tr><tr><td data-num="24"></td><td><pre>					<span class="token keyword">else</span> 		 </pre></td></tr><tr><td data-num="25"></td><td><pre>						set error flag <span class="token punctuation">(</span>undefined external symbol<span class="token punctuation">)</span> 	 </pre></td></tr><tr><td data-num="26"></td><td><pre>				<span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> 'M' <span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">while</span> !<span class="token operator">=</span> 'E' <span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token keyword">if</span> an address <span class="token keyword">is</span> specified <span class="token punctuation">&#123;</span><span class="token keyword">in</span> <span class="token keyword">End</span> <span class="token keyword">record</span><span class="token punctuation">&#125;</span> <span class="token keyword">then</span> 	 </pre></td></tr><tr><td data-num="29"></td><td><pre>			set EXECADDR <span class="token keyword">to</span> <span class="token punctuation">(</span>CSADDR <span class="token operator">+</span> specified address<span class="token punctuation">)</span> 	 </pre></td></tr><tr><td data-num="30"></td><td><pre>		add CSLTH <span class="token keyword">to</span> CSADDR 	 </pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">end</span> <span class="token punctuation">&#123;</span><span class="token keyword">while</span> <span class="token operator">not</span> EOF<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="32"></td><td><pre>jump <span class="token keyword">to</span> location given by EXECADDR <span class="token punctuation">&#123;</span><span class="token keyword">to</span> start execution <span class="token keyword">of</span> loaded program<span class="token punctuation">&#125;</span> 	 </pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">end</span> <span class="token punctuation">&#123;</span>Pass <span class="token number">2</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>The algorithm can be made more efficient if a slight change is made in the object program format. This modification involves assigning a <span class="red">reference number</span> to each external symbol referred to in a control section.</li><li><img data-src="https://imgur.com/vOcKl0P.png" alt=""></li><li>The main advantage of this reference-number mechanism is that it avoids multiple searches of ESTAB for the same symbol during the loading of a control section.</li></ul><h2 id="machine-independent-loader-features"><a class="anchor" href="#machine-independent-loader-features">#</a> Machine-Independent Loader Features</h2><ul><li><span class="red">Automatic library search</span> handles external references. This feature allows a programmer to use standard subroutines without explicitly including them in the program to be loaded. The routines are automatically retrieved from a library as they are needed during linking.</li></ul><div class="tags"><a href="/tags/System-Software/" rel="tag"><i class="ic i-tag"></i> System Software</a> <a href="/tags/Assembler/" rel="tag"><i class="ic i-tag"></i> Assembler</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2023-05-23 17:30:29" itemprop="dateModified" datetime="2023-05-23T17:30:29+08:00">2023-05-23</time></span></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>ChienI Kao <i class="ic i-at"><em>@</em></i>Nothing is true, everything is permitted</li><li class="link"><strong>Post link: </strong><a href="https://chienikao.github.io/2023/05/23/SystemSoftware/Ch03_Loaders_and_Linkers/" title="Ch03 - Loaders and Linkers">https://chienikao.github.io/2023/05/23/SystemSoftware/Ch03_Loaders_and_Linkers/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/05/19/Coding/leetcode/Medium/1557%20Minimum%20Number%20of%20Vertices%20to%20Reach%20All%20Nodes/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;21r000-image.oss-cn-shanghai.aliyuncs.com&#x2F;pic2021&#x2F;6833939bly1giciszlczyj20zk0m816d.jpg" title="1557. Minimum Number of Vertices to Reach All Nodes"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> Medium</span><h3>1557. Minimum Number of Vertices to Reach All Nodes</h3></a></div><div class="item right"><a href="/2023/05/30/SystemSoftware/Ch04_Macro_Processors/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;21r000-image.oss-cn-shanghai.aliyuncs.com&#x2F;pic2021&#x2F;6833939bly1gicitzannuj20zk0m8b29.jpg" title="Ch04 - Macro Processors"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> SystemSoftware</span><h3>Ch04 - Macro Processors</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#basic-loader-functions"><span class="toc-number">2.</span> <span class="toc-text">Basic Loader Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#design-of-an-absolute-loader"><span class="toc-number">2.1.</span> <span class="toc-text">Design of an Absolute Loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#a-simple-bootstrap-loader"><span class="toc-number">2.2.</span> <span class="toc-text">A simple Bootstrap Loader</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#machine-dependent-loader-features"><span class="toc-number">3.</span> <span class="toc-text">Machine-Dependent Loader Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#relocation"><span class="toc-number">3.1.</span> <span class="toc-text">Relocation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#program-linking"><span class="toc-number">3.2.</span> <span class="toc-text">Program Linking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#algorithm-and-data-structure-for-a-linking-loader"><span class="toc-number">3.3.</span> <span class="toc-text">Algorithm and Data Structure for a Linking Loader</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#machine-independent-loader-features"><span class="toc-number">4.</span> <span class="toc-text">Machine-Independent Loader Features</span></a></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li><a href="/2023/04/23/SystemSoftware/Appendix_A/" rel="bookmark" title="Appendix A">Appendix A</a></li><li><a href="/2023/04/24/SystemSoftware/Ch01_Background/" rel="bookmark" title="Ch01 - Background">Ch01 - Background</a></li><li><a href="/2023/04/25/SystemSoftware/Ch01_example/" rel="bookmark" title="Ch01 - Example">Ch01 - Example</a></li><li><a href="/2023/04/26/SystemSoftware/Ch02_Assembler/" rel="bookmark" title="Ch02 - Assemblers">Ch02 - Assemblers</a></li><li><a href="/2023/04/27/SystemSoftware/Ch02_example/" rel="bookmark" title="Ch02 - Example">Ch02 - Example</a></li><li class="active"><a href="/2023/05/23/SystemSoftware/Ch03_Loaders_and_Linkers/" rel="bookmark" title="Ch03 - Loaders and Linkers">Ch03 - Loaders and Linkers</a></li><li><a href="/2023/05/30/SystemSoftware/Ch04_Macro_Processors/" rel="bookmark" title="Ch04 - Macro Processors">Ch04 - Macro Processors</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ChienI Kao" data-src="/images/avatar.jpg"><p class="name" itemprop="name">ChienI Kao</p><div class="description" itemprop="description">This is a note blog</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">72</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">18</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">61</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NoaWVuSUthby9DaGllbklLYW8uZ2l0aHViLmlv" title="https:&#x2F;&#x2F;github.com&#x2F;ChienIKao&#x2F;ChienIKao.github.io"><i class="ic i-github"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmFsZW45MTEwMThAZ21haWwuY29t" title="mailto:alen911018@gmail.com"><i class="ic i-envelope"></i></span> <span class="exturl item instagram" data-url="aHR0cHM6Ly9pbnN0YWdyYW0uY29tL2NoaWVuaV8xMDE4" title="https:&#x2F;&#x2F;instagram.com&#x2F;chieni_1018"><i class="ic i-instagram"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/05/19/Coding/leetcode/Medium/1557%20Minimum%20Number%20of%20Vertices%20to%20Reach%20All%20Nodes/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/05/30/SystemSoftware/Ch04_Macro_Processors/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/" title="In Leetcode">Leetcode</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/Hard/" title="In Hard">Hard</a></div><span><a href="/2023/04/22/Coding/leetcode/Hard/1312%20Minimum%20Insertion%20Steps%20to%20Make%20a%20String%20Palindrome/" title="1312. Minimum Insertion Steps to Make a String Palindrome">1312. Minimum Insertion Steps to Make a String Palindrome</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="In Programming">Programming</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/C-C/" title="In C/C++">C/C++</a></div><span><a href="/2023/04/19/programming/CPP/cpp%20string%20split/" title="C&#x2F;C++ - String Split">C/C++ - String Split</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/UVA/" title="In UVA">UVA</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/UVA/Star1/" title="In Star1">Star1</a></div><span><a href="/2023/04/20/Coding/uva/Star1/uva%20499/" title="uva 499 - What’s The Frequency, Kenneth?">uva 499 - What’s The Frequency, Kenneth?</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="In Programming">Programming</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/C-C/" title="In C/C++">C/C++</a></div><span><a href="/2023/04/21/programming/CPP/cpp%20vector/" title="C++ - vector">C++ - vector</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/" title="In Leetcode">Leetcode</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/Hard/" title="In Hard">Hard</a></div><span><a href="/2023/05/07/Coding/leetcode/Hard/1964%20Find%20the%20Longest%20Valid%20Obstacle%20Course%20at%20Each%20Position/" title="1964. Find the Longest Valid Obstacle Course at Each Position">1964. Find the Longest Valid Obstacle Course at Each Position</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/" title="In Leetcode">Leetcode</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/Easy/" title="In Easy">Easy</a></div><span><a href="/2023/05/07/Coding/leetcode/Easy/2665%20Counter%20II/" title="2665. Counter II">2665. Counter II</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="In Programming">Programming</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/C-C/" title="In C/C++">C/C++</a></div><span><a href="/2023/04/19/programming/CPP/cpp%20set/" title="C++ - Set">C++ - Set</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/" title="In Leetcode">Leetcode</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/Hard/" title="In Hard">Hard</a></div><span><a href="/2023/04/24/Coding/leetcode/Hard/1416%20Restore%20The%20Array/" title="1416. Restore The Array">1416. Restore The Array</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/" title="In Leetcode">Leetcode</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/Leetcode/Medium/" title="In Medium">Medium</a></div><span><a href="/2023/05/04/Coding/leetcode/Hard/649%20Dota2%20Senate/" title="649. Dota2 Senate">649. Dota2 Senate</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Coding/" title="In Coding">Coding</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/UVA/" title="In UVA">UVA</a> <i class="ic i-angle-right"></i> <a href="/categories/Coding/UVA/Star1/" title="In Star1">Star1</a></div><span><a href="/2023/04/20/Coding/uva/Star1/uva%20579/" title="uva 579 - Clock Hands">uva 579 - Clock Hands</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-ChienI Kao"></i> </span><span class="author" itemprop="copyrightHolder">ChienI Kao @ ChienI Kao</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">191k words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">2:53</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/05/23/SystemSoftware/Ch03_Loaders_and_Linkers/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>